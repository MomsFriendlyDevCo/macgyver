"use strict";angular.module("angular-bs-tooltip",[]).directive("tooltip",function(){return{restrict:"A",scope:{tooltip:"@?",tooltipPosition:"@?",tooltipContainer:"@?",tooltipTrigger:"@?",tooltipHtml:"<",tooltipShow:"<",tooltipTether:"<"},controller:["$scope","$element","$interval",function(t,o,i){t.isVisible=!1,t.rebuild=function(){var i=$(o),e=t.isVisible;i.hasClass("ng-tooltip")&&i.tooltip("destroy"),t.rebuildTether(),i.on("shown.bs.tooltip",function(){return t.isVisible=!0}).on("hidden.bs.tooltip",function(){return t.isVisible=!1}).tooltip({title:t.tooltip,placement:t.tooltipPosition||"top",container:"element"!=t.tooltipContainer&&"body",trigger:!0===t.tooltipShow||!1===t.tooltipShow?"manual":t.tooltipTrigger||"hover",html:!!t.tooltipHtml,animation:!1,template:'<div class="tooltip ng-tooltip-'+t.$id+'" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}).addClass("ng-tooltip"),(!0===t.tooltipShow||!1!==t.tooltipShow&&e)&&i.tooltip("show")},t.tether,t.tetherTimer,t.rebuildTether=function(){if(t.tooltipTether){var e=$(o);e.one("shown.bs.tooltip",function(){t.tether=new Tether({element:e.data("bs.tooltip").$tip[0],target:e[0],attachment:"top"==t.tooltipPosition?"bottom middle":"left"==t.tooltipPosition?"center right":"right"==t.tooltipPosition?"center left":"bottom"==t.tooltipPosition?"top middle":"bottom middle",targetAttachment:"top"==t.tooltipPosition?"top middle":"left"==t.tooltipPosition?"center left":"right"==t.tooltipPosition?"center right":"bottom"==t.tooltipPosition?"bottom middle":"top middle"}),(!0===t.tooltipTether||isFinite(t.tooltipTether))&&(t.tetherTimer=i(t.tether.position,!0===t.tooltipTether?100:t.tooltipTether))})}else t.tether&&(t.tether.destroy(),t.tether=void 0,i.cancel(t.tetherTimer))},t.$watchGroup(["tooltip","tooltipPosition","tooltipContainer","tooltipTrigger","tooltipHtml","tooltipShow","tooltipTether"],t.rebuild),t.$on("bs.tooltip.reposition",function(){t.tether?t.tether.position():t.rebuild()}),t.$on("$destroy",function(){t.tooltipTether&&t.tether&&t.tether.destroy(),angular.element(".ng-tooltip-"+t.$id).remove(),$(o).tooltip("destroy")})}]}});